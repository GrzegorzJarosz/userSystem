<div>
  <h2>Add new user</h2>
  <hr>
  <div class="mt-5">
    <form  (ngSubmit)="onSubmit(newUSerForm.valid)" #newUSerForm="ngForm">
      <div class="form-group">
        <label>Name</label><br>
        <input type="text" class="form-control" [(ngModel)]="name" name="name" placeholder="name" required>
      </div>
      <div class="form-group">
        <label>First Name</label><br>
        <input type="text"  class="form-control" [(ngModel)]="firstName" name="firstName" placeholder="first name" required>
      </div>
      <div class="form-group">
        <label>Last Name</label><br>
        <input type="text"  class="form-control" [(ngModel)]="lastName" name="lastName" placeholder="last name" required>
      </div>
      <div class="form-group">
        <label>Password</label><br>
        <input type="text"  class="form-control" [(ngModel)]="password" name="password" placeholder="password" required>
      </div>
      <div class="form-group">
        <label>Birth Date</label><br>
        <input type="text"  class="form-control" [(ngModel)]="birthDate" name="birthDate" placeholder="yyyy-mm-dd" required pattern="[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])">
      </div>

      <h4 class="mt-5">List of groups:</h4>
      <hr>

      <div class="form-group d-flex" *ngFor="let group of groups; let i= index" >
        <label class="mr-auto"><i class="far fa-times-circle red-but ml-2 pt-2" (click)=removeGroup(group.name)></i></label><br>
        <input type="text" value="{{group.name}}" class="form-control ml-2" [(ngModel)]="groups[i].name" name="groupName{{i}}" placeholder="group">
      </div>

      <div class="mb-3" *ngIf="groupsToTake && groupsToTakeOpt">
        <h3  *ngIf="groupsToTake.length>0">Select new group:</h3>
        <ul class="list-group" *ngFor="let gr of groupsToTake">
          <li class="list-group-item" (click)="addToSelectedGroups(gr.name)">{{gr.name}} </li>
        </ul>
      </div>

      <button type="button" *ngIf="!groupsToTakeOpt" class="btn btn-outline-secondary mb-4" (click)="addGroup()">Add group</button>
      <div class="mb-2">
        <button class="btn btn-primary" type="submit">Submit</button>
        <button class="btn btn-danger" [routerLink]="['/users']">Cancel</button>
      </div>
    </form>
  </div>
</div>
